{"ast":null,"code":"var _jsxFileName = \"/Users/stutipatel/Desktop/Empire-WebApp/frontend/src/pages/HomePage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { MagnifyingGlassIcon } from \"@heroicons/react/24/outline\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\nimport { useProductContext } from \"../context/ProductContext\";\nimport { fetchProducts } from \"../api/productService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function HomeScreen() {\n  _s();\n  const {\n    state,\n    dispatch\n  } = useProductContext();\n  const {\n    user\n  } = useAuthContext();\n  const navigate = useNavigate();\n  const [activeButton, setActiveButton] = useState(\"Best Sellers\");\n  useEffect(() => {\n    const loadProducts = async () => {\n      if (user && user.token) {\n        try {\n          const products = await fetchProducts(user.token); // Await the product fetch\n          dispatch({\n            type: \"SET_PRODUCTS\",\n            payload: products\n          }); // Dispatch the fetched products\n        } catch (error) {\n          console.error(\"Error fetching products: \", error); // Log any errors\n        }\n      }\n    };\n    loadProducts(); // Call the loadProducts function\n  }, [dispatch, user]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 flex items-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search...\",\n          className: \"w-full p-2 pl-10 border rounded-md focus:border-2 focus:border-primary-dark focus:outline-none\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MagnifyingGlassIcon, {\n          className: \"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between border-b-2 border-b-secondary-light-gray text-sm sm:text-xl\",\n      children: [\"Best Sellers\", \"Just Arrived\", \"Trending\"].map(label => /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `sm:py-2 sm:px-4 ${activeButton === label ? \"border-b-4 border-b-primary-dark\" : \"text-secondary-middle-gray\"}`,\n        onClick: () => setActiveButton(label),\n        children: label\n      }, label, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2\",\n      children: Array.isArray(state.products) && state.products.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No items...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this) : state.products.map((product, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        // Use product ID as key\n        className: `py-10 cursor-pointer border-b border-gray-300 ${index % 2 === 0 ? \"border-r border-gray-300\" : \"\"}`,\n        onClick: () => navigate(`/product/${product._id}`),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg sm:text-2xl font-light\",\n            children: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-md sm:text-lg text-secondary-gray font-semibold\",\n            children: [\"$\", product.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }, this), product.images && product.images.length > 0 ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: `/assets/${product.images[0]}`,\n            alt: product.name,\n            className: \"h-28 sm:h-48 object-contain my-2 sm:w-fit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No image available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 19\n          }, this) // Fallback if no images exist\n          ]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 15\n        }, this)\n      }, product._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\n_s(HomeScreen, \"PO5K5bixAeynOkI35U6g2VyOYrE=\", false, function () {\n  return [useProductContext, useAuthContext, useNavigate];\n});\n_c = HomeScreen;\nvar _c;\n$RefreshReg$(_c, \"HomeScreen\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","MagnifyingGlassIcon","useAuthContext","useProductContext","fetchProducts","jsxDEV","_jsxDEV","HomeScreen","_s","state","dispatch","user","navigate","activeButton","setActiveButton","loadProducts","token","products","type","payload","error","console","className","children","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","map","label","onClick","Array","isArray","length","product","index","_id","name","price","images","src","alt","_c","$RefreshReg$"],"sources":["/Users/stutipatel/Desktop/Empire-WebApp/frontend/src/pages/HomePage.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { MagnifyingGlassIcon } from \"@heroicons/react/24/outline\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\nimport { useProductContext } from \"../context/ProductContext\";\nimport { fetchProducts } from \"../api/productService\";\n\nexport default function HomeScreen() {\n  const { state, dispatch } = useProductContext();\n  const { user } = useAuthContext();\n  const navigate = useNavigate();\n  const [activeButton, setActiveButton] = useState(\"Best Sellers\");\n\n  useEffect(() => {\n    const loadProducts = async () => {\n      if (user && user.token) {\n        try {\n          const products = await fetchProducts(user.token); // Await the product fetch\n          dispatch({ type: \"SET_PRODUCTS\", payload: products }); // Dispatch the fetched products\n        } catch (error) {\n          console.error(\"Error fetching products: \", error); // Log any errors\n        }\n      }\n    };\n    \n    loadProducts(); // Call the loadProducts function\n  }, [dispatch, user]);\n\n  return (\n    <div className=\"p-4\">\n      {/* Search Bar */}\n      <div className=\"mb-4 flex items-center\">\n        <div className=\"relative w-full\">\n          <input\n            type=\"text\"\n            placeholder=\"Search...\"\n            className=\"w-full p-2 pl-10 border rounded-md focus:border-2 focus:border-primary-dark focus:outline-none\"\n          />\n          <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500\" />\n        </div>\n      </div>\n      {/* Button Group */}\n      <div className=\"flex justify-between border-b-2 border-b-secondary-light-gray text-sm sm:text-xl\">\n        {[\"Best Sellers\", \"Just Arrived\", \"Trending\"].map((label) => (\n          <button\n            key={label}\n            className={`sm:py-2 sm:px-4 ${\n              activeButton === label\n                ? \"border-b-4 border-b-primary-dark\"\n                : \"text-secondary-middle-gray\"\n            }`}\n            onClick={() => setActiveButton(label)}\n          >\n            {label}\n          </button>\n        ))}\n      </div>\n\n      {/* Product Grid */}\n      <div className=\"grid grid-cols-2\">\n        {Array.isArray(state.products) && state.products.length === 0 ? (\n          <p>No items...</p>\n        ) : (\n          state.products.map((product, index) => (\n            <div\n              key={product._id} // Use product ID as key\n              className={`py-10 cursor-pointer border-b border-gray-300 ${\n                index % 2 === 0 ? \"border-r border-gray-300\" : \"\"\n              }`}\n              onClick={() => navigate(`/product/${product._id}`)}\n            >\n              <div className=\"ml-5\">\n                <p className=\"text-lg sm:text-2xl font-light\">{product.name}</p>\n                <p className=\"text-md sm:text-lg text-secondary-gray font-semibold\">\n                  ${product.price}\n                </p>\n                {product.images && product.images.length > 0 ? (\n                  <img\n                    src={`/assets/${product.images[0]}`}\n                    alt={product.name}\n                    className=\"h-28 sm:h-48 object-contain my-2 sm:w-fit\"\n                  />\n                ) : (\n                  <p>No image available</p> // Fallback if no images exist\n                )}\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}