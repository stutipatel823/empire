{"ast":null,"code":"var _jsxFileName = \"/Users/stutipatel/Desktop/MERN/frontend/src/pages/HomePage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { MagnifyingGlassIcon } from \"@heroicons/react/24/outline\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\nimport { useProductContext } from \"../context/ProductContext\";\nimport { fetchProducts } from \"../api/productService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function HomeScreen() {\n  _s();\n  const {\n    state,\n    dispatch\n  } = useProductContext();\n  const {\n    user\n  } = useAuthContext();\n  const navigate = useNavigate();\n  const [activeButton, setActiveButton] = useState(\"Best Sellers\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [allProducts, setAllProducts] = useState([]); // Store the full list of products from the database\n\n  useEffect(() => {\n    const loadProducts = async () => {\n      if (user && user.token) {\n        try {\n          const products = await fetchProducts(user.token); // Fetch all products from the database\n          setAllProducts(products); // Store the full list of products\n          dispatch({\n            type: \"SET_PRODUCTS\",\n            payload: products\n          }); // Dispatch the fetched products\n        } catch (error) {\n          console.error(\"Error fetching products: \", error); // Log any errors\n        }\n      }\n    };\n    loadProducts(); // Call the loadProducts function\n  }, [dispatch, user]);\n  useEffect(() => {\n    // Filter products based on the active toggle and search query\n    const filtered = allProducts.filter(product => {\n      // Toggle-specific filter\n      if (activeButton === \"Best Sellers\") {\n        return product.displayCategory === \"BestSellers\";\n      } else if (activeButton === \"Just Arrived\") {\n        return product.displayCategory === \"JustArrived\";\n      } else if (activeButton === \"Trending\") {\n        return product.displayCategory === \"Trending\";\n      }\n      return true; // Default: Show all products\n    }).filter(product => product.name.toLowerCase().includes(searchQuery.toLowerCase())); // Search filter on the full product list\n\n    setFilteredProducts(filtered);\n  }, [allProducts, activeButton, searchQuery]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 flex items-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search...\",\n          className: \"w-full p-2 pl-10 border rounded-md focus:border-2 focus:border-primary-dark focus:outline-none\",\n          value: searchQuery,\n          onChange: e => setSearchQuery(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MagnifyingGlassIcon, {\n          className: \"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between border-b-2 border-b-secondary-light-gray text-sm sm:text-xl\",\n      children: [\"Best Sellers\", \"Just Arrived\", \"Trending\"].map(label => /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `sm:py-2 sm:px-4 ${activeButton === label ? \"border-b-4 border-b-primary-dark\" : \"text-secondary-middle-gray\"}`,\n        onClick: () => setActiveButton(label),\n        children: label\n      }, label, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2\",\n      children: filteredProducts.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No items...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this) : filteredProducts.map((product, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        // Use product ID as key\n        className: `py-10 cursor-pointer border-b border-gray-300 ${index % 2 === 0 ? \"border-r border-gray-300\" : \"\"}`,\n        onClick: () => navigate(`/product/${product._id}`),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg sm:text-2xl font-light\",\n            children: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-md sm:text-lg text-secondary-gray font-semibold\",\n            children: [\"$\", product.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 17\n          }, this), product.images && product.images.length > 0 ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: `/assets/${product.images[0]}`,\n            alt: product.name,\n            className: \"h-28 sm:h-48 object-contain my-2 sm:w-fit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No image available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 19\n          }, this) // Fallback if no images exist\n          ]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 15\n        }, this)\n      }, product._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n_s(HomeScreen, \"2zWd/0dJ3zQEkIofTZUY1N1i0YA=\", false, function () {\n  return [useProductContext, useAuthContext, useNavigate];\n});\n_c = HomeScreen;\nvar _c;\n$RefreshReg$(_c, \"HomeScreen\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","MagnifyingGlassIcon","useAuthContext","useProductContext","fetchProducts","jsxDEV","_jsxDEV","HomeScreen","_s","state","dispatch","user","navigate","activeButton","setActiveButton","searchQuery","setSearchQuery","filteredProducts","setFilteredProducts","allProducts","setAllProducts","loadProducts","token","products","type","payload","error","console","filtered","filter","product","displayCategory","name","toLowerCase","includes","className","children","placeholder","value","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","map","label","onClick","length","index","_id","price","images","src","alt","_c","$RefreshReg$"],"sources":["/Users/stutipatel/Desktop/MERN/frontend/src/pages/HomePage.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { MagnifyingGlassIcon } from \"@heroicons/react/24/outline\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\nimport { useProductContext } from \"../context/ProductContext\";\nimport { fetchProducts } from \"../api/productService\";\n\nexport default function HomeScreen() {\n  const { state, dispatch } = useProductContext();\n  const { user } = useAuthContext();\n  const navigate = useNavigate();\n  const [activeButton, setActiveButton] = useState(\"Best Sellers\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [allProducts, setAllProducts] = useState([]); // Store the full list of products from the database\n\n  useEffect(() => {\n    const loadProducts = async () => {\n      if (user && user.token) {\n        try {\n          const products = await fetchProducts(user.token); // Fetch all products from the database\n          setAllProducts(products); // Store the full list of products\n          dispatch({ type: \"SET_PRODUCTS\", payload: products }); // Dispatch the fetched products\n        } catch (error) {\n          console.error(\"Error fetching products: \", error); // Log any errors\n        }\n      }\n    };\n\n    loadProducts(); // Call the loadProducts function\n  }, [dispatch, user]);\n\n  useEffect(() => {\n    // Filter products based on the active toggle and search query\n    const filtered = allProducts\n      .filter((product) => {\n        // Toggle-specific filter\n        if (activeButton === \"Best Sellers\") {\n          return product.displayCategory === \"BestSellers\";\n        } else if (activeButton === \"Just Arrived\") {\n          return product.displayCategory === \"JustArrived\";\n        } else if (activeButton === \"Trending\") {\n          return product.displayCategory === \"Trending\";\n        }\n        return true; // Default: Show all products\n      })\n      .filter((product) =>\n        product.name.toLowerCase().includes(searchQuery.toLowerCase())\n      ); // Search filter on the full product list\n\n    setFilteredProducts(filtered);\n  }, [allProducts, activeButton, searchQuery]);\n\n  return (\n    <div className=\"p-4\">\n      {/* Search Bar */}\n      <div className=\"mb-4 flex items-center\">\n        <div className=\"relative w-full\">\n          <input\n            type=\"text\"\n            placeholder=\"Search...\"\n            className=\"w-full p-2 pl-10 border rounded-md focus:border-2 focus:border-primary-dark focus:outline-none\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n          />\n          <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500\" />\n        </div>\n      </div>\n\n      {/* Button Group */}\n      <div className=\"flex justify-between border-b-2 border-b-secondary-light-gray text-sm sm:text-xl\">\n        {[\"Best Sellers\", \"Just Arrived\", \"Trending\"].map((label) => (\n          <button\n            key={label}\n            className={`sm:py-2 sm:px-4 ${\n              activeButton === label\n                ? \"border-b-4 border-b-primary-dark\"\n                : \"text-secondary-middle-gray\"\n            }`}\n            onClick={() => setActiveButton(label)}\n          >\n            {label}\n          </button>\n        ))}\n      </div>\n\n      {/* Product Grid */}\n      <div className=\"grid grid-cols-2\">\n        {filteredProducts.length === 0 ? (\n          <p>No items...</p>\n        ) : (\n          filteredProducts.map((product, index) => (\n            <div\n              key={product._id} // Use product ID as key\n              className={`py-10 cursor-pointer border-b border-gray-300 ${\n                index % 2 === 0 ? \"border-r border-gray-300\" : \"\"\n              }`}\n              onClick={() => navigate(`/product/${product._id}`)}\n            >\n              <div className=\"ml-5\">\n                <p className=\"text-lg sm:text-2xl font-light\">{product.name}</p>\n                <p className=\"text-md sm:text-lg text-secondary-gray font-semibold\">\n                  ${product.price}\n                </p>\n                {product.images && product.images.length > 0 ? (\n                  <img\n                    src={`/assets/${product.images[0]}`}\n                    alt={product.name}\n                    className=\"h-28 sm:h-48 object-contain my-2 sm:w-fit\"\n                  />\n                ) : (\n                  <p>No image available</p> // Fallback if no images exist\n                )}\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}